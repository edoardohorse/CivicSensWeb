<html>
    <head>
    <title>Report</title>
    
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="utf-8">
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/details.css">
    </head>
    <body>
        <nav>
            <select id="select__search">
                <option value="Indirizzo">Indirizzo</option>
                <option value="Città">Città</option>
                <option value="Grado">Grado</option>
                <option value="Tipo">Tipo</option>
            </select>
            <input type="search" id="search__bar">
        </nav>
        <main class="list__report__wrapper">
            <nav class="nav__report">
                <div class="chooser__list__report chooser__list__report--selected" id="chooser--notfinished" onclick="showReportNotFinished(this)">Aperte</div>
                <div class="chooser__list__report"  id="chooser--finished" onclick="showReportFinished(this)">Chiuse</div>
                <i id="refresh__button"></i>
            </nav>

            <div class="list__report" id="report--notfinished">
                <div class="container-table100">
                    <div class="wrap-table100">
                        <div class="table100 ver1 m-b-110">
                            <div class="table100-head">
                                <table>
                                    <thead>
                                        <tr class="row100 head">
                                            <th class="cell100 column1">Città</th>
                                            <th class="cell100 column2">Indirizzo</th>
                                            <th class="cell100 column3">Descrizione</th>
                                            <th class="cell100 column4">Stato</th>
                                            <th class="cell100 column5">Tipo</th>
                                            <th class="cell100 column6">Grado</th>
                                        </tr>
                                    </thead>
                                </table>
                            </div>

                            <div class="table100-body js-pscroll">
                                <table>
                                    <tbody>
                                        
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="list__report list__report--hide" id="report--finished">
                    <div class="container-table100">
                        <div class="wrap-table100">
                            <div class="table100 ver1 m-b-110">
                                <div class="table100-head">
                                    <table>
                                        <thead>
                                            <tr class="row100 head">
                                                <th class="cell100 column1">Città</th>
                                                <th class="cell100 column2">Indirizzo</th>
                                                <th class="cell100 column3">Descrizione</th>
                                                <th class="cell100 column4">Stato</th>
                                                <th class="cell100 column5">Tipo</th>
                                                <th class="cell100 column6">Grado</th>
                                            </tr>
                                        </thead>
                                    </table>
                                </div>
    
                                <div class="table100-body js-pscroll">
                                    <table>
                                        <tbody>
                                            
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
            </div>


                                            
                                    
        </main>
       
        <!-- <aside class="details" data-grade="LOW">
            <nav class="details__title col-12">
                <span>Via Socrate, 15</span>
                <div class="details__options"></div>
                <i class="details__close"></i>
            </nav>
            <main class="details__body col-12" >
                <div class="details__row">
                    <article class="details__item col-6" divided >
                        <label><span>Creato il</span></label>
                        <div> 17:01 21/05/2018</div>
                    </article>

                    <article class="details__item col-6">         
                        <label>Stato</label>           
                        <div><div class="report__badge">In Attesa</div></div>
                    </article>
                </div>

                <div class="details__row">
                    <article class="details__item col-12" divided>                    
                        <label>Tipo</label>
                        <div>Smottamento manto stradale</div>
                    </article>
                </div>

                <div class="details__row">
                    <article class="details__item col-12" divided>                    
                        <label>Team</label>
                        <div>Enel1</div>
                    </article>
                </div>

                <div class="details__row">
                    <article class="details__item col-12"  divided >                    
                        <label>Descrizione</label>
                        <div><textarea disabled>Il lampione in questa via naaaaaaaaaaaaaaaaaaaaaaaaaon funziona da un mese. Da aggiustare.</textarea></div>
                    </article>
                </div>
                <div class="details__row">
                    <article class="details__item col-12" divided data-slider=true>
                        <label>Foto</label>
                        <div>
                            <div class="photo">
                                <img src="uploads/IMG_20180607_185856.jpg">
                                <img src="uploads/IMG_20180611_135255.jpg">
                                <img src="uploads/prova1.jpg">
                            </div>
                        </div>
                    </article>
                </div>
            </main>
            <footer class="details__chooser">
                <ol>
                    <li></li>
                </ol>
            </footer>
        </aside> -->

        <!-- <aside class="details" id="detail__report">
            <nav class="col-12">
                <span></span>
                <div class="details__options"></div>
            </nav>
            <main class="col-12">
                <article class="details__item">
                    <label></label>
                    <div></div>
                </article>
            </main>
            <footer class="details__chooser">
                <ol>
                    <li></li>
                </ol>
            </footer>
        </aside> -->

        
    </body>

    
    <script src="js/utils.js"></script>
    <script src="js/script.js"></script>
    <script src="js/report.js"></script>
    <script src="js/hub.js"></script>
    <script>

    let managerDet = new ManagerDetails(document.body)
    let manager = new ManagerReport()
    manager.fetchAllReports()

    function calcPhoto(){
        [].slice.call(document.querySelectorAll(".photo")).forEach(wrapper=>{
            let n = wrapper.childElementCount
            wrapper.style.width = `calc( ${ n * 300}px + ${n+.7}em`;
        })
    }

  /*   let det = new Details()
    det.setTitle("Via Socrate, 15")
    det.addRow(
        {
            label   :'Creato il:',
            content :'17:01 21/05/2018',
            divided : true,
            col     : 6
        },
        {
            label   :'Stato',
            content : newEl('div,,report__badge').call('textContent','In attesa'),
            divided : true,
            col     : 6,
            divided : false
        }

    )
    det.addRow({
            label   :'Tipo',
            content :'Smottamento manto stradale',
            divided : true,
            col     : 12
        })

    det.addRow({
            label   :'Team',
            content :'Enel1',
            divided : true,
            col     : 12
        })
    
    det.addRow({
            label   :'Descrizione',
            content : newEl({
                                el:'textarea',
                                data:{
                                    disabled:null
                                }
                            }).call('textContent', 'Il lampione va aggiustato!'),
            divided : true,
            col     : 12
        },)
    det.addRow({
            label   :'Foto',
            content : newEl('div,,photo')
                        .appendChildren(repeatEl('img',3,
                                    {
                                        src:[
                                            "uploads/IMG_20180607_185856.jpg",
                                            "uploads/IMG_20180611_135255.jpg",
                                            "uploads/prova1.jpg"
                                        ]
                                    }
                                    )),
            divided : true,
            col     : 12,
            slider  : true
        })
    det.addRow({
            label   :'Storico',
            content : newEl('div,report__history'),
            divided : true,
            col     : 6
        })

    det.build()
    det.el.setAttribute('data-grade','LOW')
    document.body.appendChild(det.el)
    calcPhoto(); */
    

    

    </script>
    
</html>